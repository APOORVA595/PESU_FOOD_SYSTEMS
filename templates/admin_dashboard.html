<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Owner Dashboard</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <!-- Assuming style.css contains general project styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        .card-header-admin {
            background-color: #4CAF50; /* A primary admin color */
            color: white;
            font-weight: bold;
        }
        .row-reorder {
            background-color: #fce8e8; /* Light red background for reorder needed */
            font-weight: bold;
        }
        .text-error {
            color: #dc3545;
        }
    </style>
</head>
<body class="bg-light">
    <div class="container my-5">
        <div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-3">
            <h1 class="text-success">Shop Owner Dashboard</h1>
            <button onclick="window.location.href='/'" class="btn btn-danger btn-sm">
                Logout
            </button>
        </div>
        
        <p class="text-center text-muted">Welcome to the Admin Portal. Manage inventory and review aggregated business intelligence.</p>
        
        <div id="loading-message" class="alert alert-info text-center">Loading Admin Data...</div>

        <!-- Inventory Status Card -->
        <div class="card shadow mb-4">
            <div class="card-header card-header-admin">
                Inventory & Restock Status (Trigger Demo)
            </div>
            <div class="card-body">
                <p class="mb-3 text-sm">Rows highlighted in <span class="text-danger font-weight-bold">red</span> need immediate restock (Quantity $\le$ Reorder Level).</p>
                <div class="table-responsive">
                    <table class="table table-bordered table-sm">
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Shop</th>
                                <th>Current Stock</th>
                                <th>Reorder Level</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="inventory-table-body">
                            <!-- Inventory data will be loaded here by admin.js -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Sales Report Card -->
        <div class="card shadow mb-4">
            <div class="card-header card-header-admin">
                Sales Performance Report (BI)
            </div>
            <div class="card-body">
                <p class="text-info">Aggregated sales data across all shops.</p>
                <div class="table-responsive">
                    <table class="table table-bordered table-sm">
                        <thead>
                            <tr>
                                <th>Shop Name</th>
                                <th>Total Orders</th>
                                <th>Items Sold</th>
                                <th>Gross Revenue (â‚¹)</th>
                            </tr>
                        </thead>
                        <tbody id="sales-report-table-body">
                            <!-- Sales report data will be loaded here by admin.js -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Placeholder for Kitchen Status (Future Feature) -->
        <div class="card shadow">
            <div class="card-header card-header-admin">
                Current Order Queue (Kitchen Status)
            </div>
            <div class="card-body">
                <p class="text-info">This card is designed for future Business Intelligence (BI) features, such as showing average **Order Preparation Time** and **Current Kitchen Load**.</p>
                <div id="order-queue-placeholder" class="text-center text-muted">Real-time Kitchen Status and order management is handled on the separate **Kitchen Dashboard** (`/kitchen_dashboard.html`).</div>
            </div>
        </div>

    </div>

    <!-- Link your custom JavaScript -->
    <!-- We remove the Flask jinja template syntax here as this file is loaded directly after the HTML -->
    <script src="/static/admin.js"></script>
</body>
</html>